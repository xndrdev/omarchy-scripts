#!/usr/bin/env bash
set -euo pipefail

CONFIG="$HOME/.config/hypr/monitors.conf"

case "${1:-}" in
  home)
    cat > "$CONFIG" <<EOF
env = GDK_SCALE,1
# home
monitor = DP-3, 2560x1440, 0x0, 1
monitor = DP-2, 2560x1440, 2560x0, 1
EOF
    ;;
  work)
    cat > "$CONFIG" <<EOF
env = GDK_SCALE,1
# work
monitor = DP-4, 2560x1440, 5120x0, 1
monitor = DP-2, 2560x1440, 0x0, 1
monitor = DP-11, 2560x1440, 2560x0, 1
EOF
    ;;
  *)
    echo "Usage: $0 {home|work}"
    exit 1
    ;;
esac

handle_lid close

# Hyprland neu laden
hyprctl reload
notify-send "Hyprland Monitors" "Config switched to $1"